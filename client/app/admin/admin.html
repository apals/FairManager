<div class="container">
  <p>The delete user and user index api routes are restricted to users with the 'admin' role.</p>

  <div class="row">
    <div class="col-sm-12">
      <table class="table table-striped table-hover">
        <thead>
        </thead>
      </table>
      <ul class="list-group user-list">


        <li class="list-group-item" ng-repeat="user in users">
         <div class="user-info">
           <strong>{{user.name}}</strong><br>
           <span class="text-muted">{{user.email}}</span>
         </div>


         <!-- deleteCompany args are 1: what to display in modal view, 2: what to delete -->
         <a ng-click="deleteUser(user.name, user)" class="trash"><span class="fa fa-trash fa-2x"></span></a>

         <!--   <a ng-click="admin.delete(user)" class="trash"><span class="fa fa-trash fa-2x"></span></a>-->
       </li>

       <p>{{error}}</p>
     </ul>
     <div class="row">
      <div ng-show="isBusy" class="col-sm-12 text-center">
        <h3>Loading...</h3>
        <br>
        <br>
      </div>
    </div>
  </div>
</div>

<div class="row text-center">
  <form ng-submit="create(user)" ng-model="user.provider" ng-init="user.provider='local'">
    <div class="col-sm-8 col-sm-offset-2">
    <input name="name" class="form-control" ng-model="user.name" placeholder="name" required>
    </div>
    <div class="col-sm-8 col-sm-offset-2">
      <input type="email" name="email" class="form-control" ng-model="user.email" placeholder="email" required="">
    </div>
    <div class="col-sm-8 col-sm-offset-2">
      <input name="password" class="form-control" type="password" ng-model="user.password" placeholder="password" required>
    </div>

    <div class="form-group has-error">
            <p class="help-block" ng-show="form.name.$error.required && login.submitted">
              Please enter a valid name.
            </p>
            <p class="help-block" ng-show="(form.email.$error.email || form.email.$error.required) && login.submitted">
              Please enter a valid email.
            </p>

            <p class="help-block" ng-show="form.password.$error.password && login.submitted">
              Please enter a valid passord.
            </p>

            <p class="help-block">{{ errors.other }}</p>
          </div>

    <div class="col-sm-8 col-sm-offset-2">
      <button class="btn btn-block" type="submit">Submit</button>
    </div>
  </form>
</div>
</div>
